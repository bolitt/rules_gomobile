build                   --verbose_failures
build                   --ios_minimum_os=9.0
build                   --strip=never
build                   --extra_toolchains=@co_znly_rules_gomobile//:all

build                   --fat_apk_cpu=x86,x86_64,armeabi-v7a,arm64-v8a
# build                   --fat_apk_cpu=arm64-v8a
# build                   --ios_multi_cpus=armv7,arm64,x86_64,i386
build                   --ios_multi_cpus=arm64

build:ios_arm64         --platforms=@io_bazel_rules_go//go/toolchain:ios_arm64_cgo
build:ios_arm64         --apple_platform_type=ios
build:ios_arm64         --ios_multi_cpus=arm64
build:ios_arm64         --cpu=ios_arm64

#build:android_arm64     --crosstool_top=@androidndk//:toolchain-libcpp
#build:android_arm64     --host_crosstool_top=@bazel_tools//tools/cpp:toolchain
#build:android_arm64     --platforms=@io_bazel_rules_go//go/toolchain:android_arm64_cgo
#build:android_arm64     --cpu=arm64-v8a

build:android_arm64     --platforms=@io_bazel_rules_go//go/toolchain:android_arm64_cgo
build:android_arm64     --fat_apk_cpu=arm64-v8a

build:android_workers --strategy=DexBuilder=worker
build:android_workers --strategy=Javac=worker
build:android_workers --strategy=Desugar=worker

# A wrapper flag for these resource processing actions:
# - AndroidResourceParser
# - AndroidResourceValidator
# - AndroidResourceCompiler
# - RClassGenerator
# - AndroidResourceLink
# - AndroidAapt2
# - AndroidAssetMerger
# - AndroidResourceMerger
# - AndroidCompiledResourceMerger
# build:android_workers --persistent_android_resource_processor

build:android_workers  --internal_persistent_busybox_tools
build:android_workers  --strategy=AaptPackage=worker
build:android_workers  --strategy=AndroidResourceParser=worker
build:android_workers  --strategy=AndroidResourceValidator=worker
build:android_workers  --strategy=AndroidResourceCompiler=worker
build:android_workers  --strategy=RClassGenerator=worker
build:android_workers  --strategy=AndroidResourceLink=worker
build:android_workers  --strategy=AndroidAapt2=worker
build:android_workers  --strategy=AndroidAssetMerger=worker
build:android_workers  --strategy=AndroidResourceMerger=worker
build:android_workers  --strategy=AndroidCompiledResourceMerger=worker

# build --android_aapt=aapt2
